<mat-sidenav-container
  class="sidenav-container"
  (backdropClick)="closeSidenav()"
  *ngIf="event"
>
  <mat-sidenav
    (keydown.escape)="closeSidenav()"
    [(opened)]="opened"
    [fixedInViewport]="true"
    position="end"
    disableClose
  >
    <event-sidenav [event]="event"></event-sidenav>
  </mat-sidenav>

  <mat-sidenav-content>
    <header>
      <mat-toolbar color="primary">
        <button class="router-button" mat-icon-button [routerLink]="['/']">
          <mat-icon>arrow_backward</mat-icon>
        </button>
        <h1>{{ event.name }}</h1>
        <span class="spacer"></span>
        <button (click)="openShareModal()" mat-icon-button>
          <mat-icon>share</mat-icon>
        </button>
        <button mat-icon-button (click)="opened = !opened">
          <mat-icon>menu</mat-icon>
        </button>
      </mat-toolbar>
    </header>

    <main>
      <mat-tab-group mat-stretch-tabs *transloco="let t">
        <mat-tab [label]="t('event.tabs.purchases')" style="height: 100%">
          <purchases-tab [event]="event"></purchases-tab>
        </mat-tab>
        <mat-tab [label]="t('event.tabs.balance')">
          <debts-tab [event]="event"></debts-tab>
        </mat-tab>
        <mat-tab [label]="t('event.tabs.actions')">
          <actions-tab [event]="event"></actions-tab>
        </mat-tab>
      </mat-tab-group>
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>
