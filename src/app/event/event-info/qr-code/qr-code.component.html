<app-layout [loading$]="loading$" *transloco="let t">
  <div class="header-flex" header>
    <button class="router-button" mat-icon-button (click)="onBack()">
      <mat-icon>close</mat-icon>
    </button>
    <h1>{{ t("event.qrCode.title") }}</h1>
    <span class="spacer"></span>
  </div>

  <div body>
    <div>
      <button color="basic" mat-raised-button (click)="capture()">
        Take photo
      </button>
    </div>

    <div class="video">
      <video #video id="video" width="320" height="320" autoplay></video>
      <canvas #canvas id="canvas" width="320" height="320"></canvas>
    </div>

    <div *ngIf="receipt">
      {{ receipt.user }} - {{ receipt.totalSum }} - {{ receipt.date }}

      <div *ngFor="let item of receipt.items">
        {{ item.name }} -- {{ item.sum }}
      </div>
    </div>
  </div>
</app-layout>
